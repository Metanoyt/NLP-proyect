usr bin env python - - coding utf- - - Copyright c - ActiveState Software Inc Copyright c Eddy Petri»ôor flake noqa This file directly https github com ActiveState appdirs blob fe f c e afcffe e b appdirs py The license https github com ActiveState appdirs copied below This MIT license Copyright c ActiveState Software Inc Permission hereby granted free charge any person obtaining copy software associated documentation files Software deal Software without restriction including without limitation rights use copy modify merge publish distribute sublicense sell copies Software permit persons whom Software furnished do so subject following conditions The above copyright notice permission notice shall included all copies substantial portions Software THE SOFTWARE IS PROVIDED AS IS WITHOUT WARRANTY OF ANY KIND EXPRESS OR IMPLIED INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM DAMAGES OR OTHER LIABILITY WHETHER IN AN ACTION OF CONTRACT TORT OR OTHERWISE ARISING FROM OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE Utilities determining application-specific dirs See https github com ActiveState appdirs details usage Dev Notes - Windows Known Folders https learn microsoft com en-us windows win shell csidl - macOS File System Programming Guide https developer apple com library archive documentation FileManagement Conceptual FileSystemProgrammingGuide Introduction Introduction html - XDG spec Un x https standards freedesktop org basedir-spec basedir-spec-latest html __version__ = __version_info__ = tuple int segment segment __version__ split os sys unicode = str sys platform startswith java platform os_name = platform java_ver os_name startswith Windows Windows XP Windows etc system = win os_name startswith Mac Mac OS X etc system = darwin Linux SunOS FreeBSD etc Setting linux ideal only Windows Mac actually checked rest module expects sys platform style strings system = linux system = sys platform user_data_dir appname=None appauthor=None version=None roaming=False r Return full path user-specific data dir application appname name application If None just system directory returned appauthor only used Windows name appauthor distributing body application Typically owning company name This falls back appname You may pass False disable version optional version path element append path You might want use you want multiple versions your app able run independently If used would typically major minor Only applied when appname present roaming boolean default False can set True use Windows roaming appdata directory That means users Windows network setup roaming profiles user data will sync d login See http technet microsoft com en-us library cc WS aspx discussion issues Typical user data directories Mac OS X ~ Library Application Support AppName Unix ~ local share AppName $ XDG_DATA_HOME defined Win XP roaming C \Documents Settings\ username \Application Data\ AppAuthor \ AppName Win XP roaming C \Documents Settings\ username \Local Settings\Application Data\ AppAuthor \ AppName Win roaming C \Users\ username \AppData\Local\ AppAuthor \ AppName Win roaming C \Users\ username \AppData\Roaming\ AppAuthor \ AppName For Unix we follow XDG spec support $ XDG_DATA_HOME That means default ~ local share AppName system == win appauthor None appauthor = appname const = roaming CSIDL_APPDATA CSIDL_LOCAL_APPDATA path = os path normpath _get_win_folder const appname appauthor False path = os path join path appauthor appname path = os path join path appname system == darwin path = os path expanduser ~ Library Application Support appname path = os path join path appname path = os getenv XDG_DATA_HOME os path expanduser ~ local share appname path = os path join path appname appname version path = os path join path version path site_data_dir appname=None appauthor=None version=None multipath=False r Return full path user-shared data dir application appname name application If None just system directory returned appauthor only used Windows name appauthor distributing body application Typically owning company name This falls back appname You may pass False disable version optional version path element append path You might want use you want multiple versions your app able run independently If used would typically major minor Only applied when appname present multipath optional parameter only applicable nix which indicates entire list data dirs should returned By default first item XDG_DATA_DIRS returned usr local share AppName XDG_DATA_DIRS set Typical site data directories Mac OS X Library Application Support AppName Unix usr local share AppName usr share AppName Win XP C \Documents Settings\All Users\Application Data\ AppAuthor \ AppName Vista Fail C \ProgramData hidden system directory Vista Win C \ProgramData\ AppAuthor \ AppName Hidden writeable Win For Unix using $ XDG_DATA_DIRS default WARNING Do use Windows See Vista-Fail note above why system == win appauthor None appauthor = appname path = os path normpath _get_win_folder CSIDL_COMMON_APPDATA appname appauthor False path = os path join path appauthor appname path = os path join path appname system == darwin path = os path expanduser Library Application Support appname path = os path join path appname XDG default $ XDG_DATA_DIRS only first multipath False path = os getenv XDG_DATA_DIRS os pathsep join usr local share usr share pathlist = os path expanduser x rstrip os sep x path split os pathsep appname version appname = os path join appname version pathlist = os sep join x appname x pathlist multipath path = os pathsep join pathlist path = pathlist path appname version path = os path join path version path user_config_dir appname=None appauthor=None version=None roaming=False r Return full path user-specific config dir application appname name application If None just system directory returned appauthor only used Windows name appauthor distributing body application Typically owning company name This falls back appname You may pass False disable version optional version path element append path You might want use you want multiple versions your app able run independently If used would typically major minor Only applied when appname present roaming boolean default False can set True use Windows roaming appdata directory That means users Windows network setup roaming profiles user data will sync d login See http technet microsoft com en-us library cc WS aspx discussion issues Typical user config directories Mac OS X ~ Library Preferences AppName Unix ~ config AppName $ XDG_CONFIG_HOME defined Win same user_data_dir For Unix we follow XDG spec support $ XDG_CONFIG_HOME That means default ~ config AppName system == win path = user_data_dir appname appauthor None roaming system == darwin path = os path expanduser ~ Library Preferences appname path = os path join path appname path = os getenv XDG_CONFIG_HOME os path expanduser ~ config appname path = os path join path appname appname version path = os path join path version path site_config_dir appname=None appauthor=None version=None multipath=False r Return full path user-shared data dir application appname name application If None just system directory returned appauthor only used Windows name appauthor distributing body application Typically owning company name This falls back appname You may pass False disable version optional version path element append path You might want use you want multiple versions your app able run independently If used would typically major minor Only applied when appname present multipath optional parameter only applicable nix which indicates entire list config dirs should returned By default first item XDG_CONFIG_DIRS returned etc xdg AppName XDG_CONFIG_DIRS set Typical site config directories Mac OS X same site_data_dir Unix etc xdg AppName $ XDG_CONFIG_DIRS i AppName each value $ XDG_CONFIG_DIRS Win same site_data_dir Vista Fail C \ProgramData hidden system directory Vista For Unix using $ XDG_CONFIG_DIRS default multipath=False WARNING Do use Windows See Vista-Fail note above why system == win path = site_data_dir appname appauthor appname version path = os path join path version system == darwin path = os path expanduser Library Preferences appname path = os path join path appname XDG default $ XDG_CONFIG_DIRS only first multipath False path = os getenv XDG_CONFIG_DIRS etc xdg pathlist = os path expanduser x rstrip os sep x path split os pathsep appname version appname = os path join appname version pathlist = os sep join x appname x pathlist multipath path = os pathsep join pathlist path = pathlist path user_cache_dir appname=None appauthor=None version=None opinion=True r Return full path user-specific cache dir application appname name application If None just system directory returned appauthor only used Windows name appauthor distributing body application Typically owning company name This falls back appname You may pass False disable version optional version path element append path You might want use you want multiple versions your app able run independently If used would typically major minor Only applied when appname present opinion boolean can False disable appending Cache base app data dir Windows See discussion below Typical user cache directories Mac OS X ~ Library Caches AppName Unix ~ cache AppName XDG default Win XP C \Documents Settings\ username \Local Settings\Application Data\ AppAuthor \ AppName \Cache Vista C \Users\ username \AppData\Local\ AppAuthor \ AppName \Cache On Windows only suggestion MSDN docs local settings go ` CSIDL_LOCAL_APPDATA ` directory This identical non-roaming app data dir default returned ` user_data_dir ` above Apps typically put cache data somewhere under given dir here Some examples \Mozilla\Firefox\Profiles\ ProfileName \Cache \Acme\SuperApp\Cache\ OPINION This function appends Cache ` CSIDL_LOCAL_APPDATA ` value This can disabled ` opinion=False ` option system == win appauthor None appauthor = appname path = os path normpath _get_win_folder CSIDL_LOCAL_APPDATA appname appauthor False path = os path join path appauthor appname path = os path join path appname opinion path = os path join path Cache system == darwin path = os path expanduser ~ Library Caches appname path = os path join path appname path = os getenv XDG_CACHE_HOME os path expanduser ~ cache appname path = os path join path appname appname version path = os path join path version path user_state_dir appname=None appauthor=None version=None roaming=False r Return full path user-specific state dir application appname name application If None just system directory returned appauthor only used Windows name appauthor distributing body application Typically owning company name This falls back appname You may pass False disable version optional version path element append path You might want use you want multiple versions your app able run independently If used would typically major minor Only applied when appname present roaming boolean default False can set True use Windows roaming appdata directory That means users Windows network setup roaming profiles user data will sync d login See http technet microsoft com en-us library cc WS aspx discussion issues Typical user state directories Mac OS X same user_data_dir Unix ~ local state AppName $ XDG_STATE_HOME defined Win same user_data_dir For Unix we follow Debian proposal https wiki debian org XDGBaseDirectorySpecification#state extend XDG spec support $ XDG_STATE_HOME That means default ~ local state AppName system win darwin path = user_data_dir appname appauthor None roaming path = os getenv XDG_STATE_HOME os path expanduser ~ local state appname path = os path join path appname appname version path = os path join path version path user_log_dir appname=None appauthor=None version=None opinion=True r Return full path user-specific log dir application appname name application If None just system directory returned appauthor only used Windows name appauthor distributing body application Typically owning company name This falls back appname You may pass False disable version optional version path element append path You might want use you want multiple versions your app able run independently If used would typically major minor Only applied when appname present opinion boolean can False disable appending Logs base app data dir Windows log base cache dir Unix See discussion below Typical user log directories Mac OS X ~ Library Logs AppName Unix ~ cache AppName log under $ XDG_CACHE_HOME defined Win XP C \Documents Settings\ username \Local Settings\Application Data\ AppAuthor \ AppName \Logs Vista C \Users\ username \AppData\Local\ AppAuthor \ AppName \Logs On Windows only suggestion MSDN docs local settings go ` CSIDL_LOCAL_APPDATA ` directory Note I m interested examples what some windows apps use logs dir OPINION This function appends Logs ` CSIDL_LOCAL_APPDATA ` value Windows appends log user cache dir Unix This can disabled ` opinion=False ` option system == darwin path = os path join os path expanduser ~ Library Logs appname system == win path = user_data_dir appname appauthor version version = False opinion path = os path join path Logs path = user_cache_dir appname appauthor version version = False opinion path = os path join path log appname version path = os path join path version path AppDirs Convenience wrapper getting application dirs __init__ appname=None appauthor=None version=None roaming=False multipath=False appname = appname appauthor = appauthor version = version roaming = roaming multipath = multipath property user_data_dir user_data_dir appname appauthor version=self version roaming=self roaming property site_data_dir site_data_dir appname appauthor version=self version multipath=self multipath property user_config_dir user_config_dir appname appauthor version=self version roaming=self roaming property site_config_dir site_config_dir appname appauthor version=self version multipath=self multipath property user_cache_dir user_cache_dir appname appauthor version=self version property user_state_dir user_state_dir appname appauthor version=self version property user_log_dir user_log_dir appname appauthor version=self version ---- internal support stuff _get_win_folder_from_registry csidl_name This fallback technique best I m sure using registry guarantees us correct answer all CSIDL_ names winreg _winreg shell_folder_name = CSIDL_APPDATA AppData CSIDL_COMMON_APPDATA Common AppData CSIDL_LOCAL_APPDATA Local AppData csidl_name key = _winreg OpenKey _winreg HKEY_CURRENT_USER r Software\Microsoft\Windows\CurrentVersion\Explorer\Shell Folders dir _type = _winreg QueryValueEx key shell_folder_name dir _get_win_folder_with_pywin csidl_name win com shell shell shellcon dir = shell SHGetFolderPath getattr shellcon csidl_name Try make unicode path because SHGetFolderPath does unicode strings when there unicode data path try dir = unicode dir Downgrade short path name have highbit chars See http bugs activestate com show_bug cgi id= has_high_char = False c dir ord c has_high_char = True break has_high_char try win api dir = win api GetShortPathName dir except ImportError pass except UnicodeError pass dir _get_win_folder_with_ctypes csidl_name ctypes csidl_const = CSIDL_APPDATA CSIDL_COMMON_APPDATA CSIDL_LOCAL_APPDATA csidl_name buf = ctypes create_unicode_buffer ctypes windll shell SHGetFolderPathW None csidl_const None buf Downgrade short path name have highbit chars See http bugs activestate com show_bug cgi id= has_high_char = False c buf ord c has_high_char = True break has_high_char buf = ctypes create_unicode_buffer ctypes windll kernel GetShortPathNameW buf value buf buf = buf buf value _get_win_folder_with_jna csidl_name array com sun jna com sun jna platform win buf_size = win WinDef MAX_PATH buf = array zeros c buf_size shell = win Shell INSTANCE shell SHGetFolderPath None getattr win ShlObj csidl_name None win ShlObj SHGFP_TYPE_CURRENT buf dir = jna Native toString buf tostring rstrip \ Downgrade short path name have highbit chars See http bugs activestate com show_bug cgi id= has_high_char = False c dir ord c has_high_char = True break has_high_char buf = array zeros c buf_size kernel = win Kernel INSTANCE kernel GetShortPathName dir buf buf_size dir = jna Native toString buf tostring rstrip \ dir system == win try win com shell _get_win_folder = _get_win_folder_with_pywin except ImportError try ctypes windll _get_win_folder = _get_win_folder_with_ctypes except ImportError try com sun jna _get_win_folder = _get_win_folder_with_jna except ImportError _get_win_folder = _get_win_folder_from_registry ---- test code __name__ == __main__ appname = MyApp appauthor = MyCompany props = user_data_dir user_config_dir user_cache_dir user_state_dir user_log_dir site_data_dir site_config_dir print f -- app dirs __version__ -- print -- app dirs optional version dirs = AppDirs appname appauthor version= prop props print f prop getattr dirs prop print \n -- app dirs without optional version dirs = AppDirs appname appauthor prop props print f prop getattr dirs prop print \n -- app dirs without optional appauthor dirs = AppDirs appname prop props print f prop getattr dirs prop print \n -- app dirs disabled appauthor dirs = AppDirs appname appauthor=False prop props print f prop getattr dirs prop