torchgen api lazy LazyArgument LazyIrSchema torchgen api types OptionalCType ts_lowering_body schema LazyIrSchema - str now we just want one IR decl soon after also method defs we use functional version out inplace emplace_arguments = get_value arg LazyArgument - str isinstance arg lazy_type OptionalCType f has_ arg name loctx- GetOutputOp operand i++ nullptr loctx- GetOutputOp operand i++ arg schema positional_args arg is_lazy_value emplace_arguments append get_value arg continue emplace_arguments append f arg name arg name emplace_arguments_str = \n join f arguments emplace_back emplace_arguments emplace_kwarg_values = f arg name get_value arg arg schema keyword_values emplace_kwarg_scalars = f arg name arg name arg schema keyword_scalars emplace_kwarguments = \n join f kwarguments emplace_back emplace_kwarg_values + emplace_kwarg_scalars f \ std vector torch jit NamedValue arguments std vector torch jit NamedValue kwarguments arguments reserve len emplace_arguments kwarguments reserve len emplace_kwarg_values + emplace_kwarg_scalars size_t i = emplace_arguments_str emplace_kwarguments torch lazy TSOpVector schema aten_name _out = torch lazy LowerTSBuiltin function op op arguments kwarguments TORCH_CHECK_EQ schema aten_name _out size len schema returns schema aten_name _out