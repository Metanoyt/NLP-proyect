mypy allow-untyped-defs r Contains definitions methods used _BaseDataLoaderIter fetch data iterable-style map-style dataset This logic shared both single- multi-processing data loading _BaseDatasetFetcher __init__ dataset auto_collation collate_fn drop_last dataset = dataset auto_collation = auto_collation collate_fn = collate_fn drop_last = drop_last fetch possibly_batched_index raise NotImplementedError _IterableDatasetFetcher _BaseDatasetFetcher __init__ dataset auto_collation collate_fn drop_last super __init__ dataset auto_collation collate_fn drop_last dataset_iter = iter dataset ended = False fetch possibly_batched_index ended raise StopIteration auto_collation data = _ possibly_batched_index try data append next dataset_iter except StopIteration ended = True break len data == drop_last len data len possibly_batched_index raise StopIteration data = next dataset_iter collate_fn data _MapDatasetFetcher _BaseDatasetFetcher fetch possibly_batched_index auto_collation hasattr dataset __getitems__ dataset __getitems__ data = dataset __getitems__ possibly_batched_index data = dataset idx idx possibly_batched_index data = dataset possibly_batched_index collate_fn data