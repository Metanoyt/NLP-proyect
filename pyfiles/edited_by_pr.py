__future__ annotations re typing Any warnings warn tools testing target_determination heuristics interface HeuristicInterface TestPrioritizations tools testing target_determination heuristics utils python_test_file_to_test_name query_changed_files tools testing test_run TestRun Some files run tests other test files so we map them each other here This map file runs test regex matches file contains test Test file path test b py should form b Regexes should based repo root ADDITIONAL_MAPPINGS = Not files tracked git rather functions defined run_test py generate test files which run tests test cpp_extensions test_cpp_extensions_aot_ninja r test\ cpp_extensions test_cpp_extensions_aot_no_ninja r test\ cpp_extensions EditedByPR HeuristicInterface __init__ kwargs dict str Any - None super __init__ kwargs get_prediction_confidence tests list str - TestPrioritizations critical_tests = _get_modified_tests TestPrioritizations tests TestRun test test critical_tests test tests _get_modified_tests - set str try changed_files = query_changed_files should_run = python_test_file_to_test_name set changed_files test_file regexes ADDITIONAL_MAPPINGS items any re search regex changed_file None regex regexes changed_file changed_files should_run add test_file should_run except Exception e warn f Can t query changed test files due e If unable get changed files git quit without doing any sorting set