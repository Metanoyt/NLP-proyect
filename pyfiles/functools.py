Python polyfills functools functools collections abc Callable Iterable typing TypeVar decorators substitute_in_graph __all__ = reduce _T = TypeVar _T _U = TypeVar _U _INITIAL_MISSING pass Reference https docs python org library functools html#functools reduce substitute_in_graph functools reduce reduce function Callable _U _T _U iterable Iterable _T initial _U = _INITIAL_MISSING type ignore assignment - _U = iter iterable value _U initial _INITIAL_MISSING try value = next type ignore assignment except StopIteration raise TypeError reduce empty iterable no initial value None value = initial element value = function value element value