argparse re common download_reports get_testcases key open_test_results skipped_test passrate compute_pass_rate python failures_histogram py commit_sha Analyzes skip reasons Dynamo tests prints histogram repro commands You ll need provide commit_sha commit main branch which we will pull CI test results This script requires ` gh ` cli You ll need install then authenticate via ` gh auth login ` before using script https docs github com en github-cli github-cli quickstart skip_reason testcase child testcase iter child tag = skipped continue child attrib message raise AssertionError no message skip_reason_normalized testcase child testcase iter child tag = skipped continue result = child attrib message split \n result = result split result = re sub r x\w+ xDEADBEEF result result = re sub r MagicMock id= \d+ MagicMock id= result result = re sub r issues \d+ issues XXX result result = re sub r torch Size\ \ \ \ torch Size result result = re sub r Could get qualified name Could get qualified name result result raise AssertionError no message get_failures testcases skipped = t t testcases skipped_test t skipped_dict = s skipped reason = skip_reason_normalized s reason skipped_dict skipped_dict reason = skipped_dict reason append s result = s v skipped_dict items result append len v s v result sort reverse=True result repro testcase f PYTORCH_TEST_WITH_DYNAMO= pytest testcase attrib file -v -k testcase attrib name all_tests testcase f testcase attrib file testcase attrib classname testcase attrib name e g c f eager c f dynamo failures_histogram eager_dir dynamo_dir verbose=False format_issues=False fail_keys = compute_pass_rate eager_dir dynamo_dir xmls = open_test_results dynamo_dir testcases = get_testcases xmls testcases = t t testcases key t fail_keys dct = get_failures testcases result = count reason testcases dct verbose row = count reason repro testcases all_tests t t testcases row = count reason repro testcases result append row header = num_failed_tests error_msg sample_test all_tests verbose num_failed_tests error_msg sample_test print header sum_counts = sum r r result row result format_issues print as_issue row print row print counts sum_counts as_issue count msg repro tests tests = \n join tests result = f - count Dynamo test failing \ msg \ ## Repro ` repro ` You will need remove skip expectedFailure before running repro command This may just removing sentinel file dynamo_expected_failures https github com pytorch pytorch blob main test dynamo_expected_failures dynamo_skips https github com pytorch pytorch blob main test dynamo_skips ## Failing tests Here s comprehensive list tests fail issue above message details summary Click me summary ` ` ` tests ` ` ` details result __name__ == __main__ parser = argparse ArgumentParser prog= failures_histogram description= See statistics about skipped Dynamo tests parser add_argument commit help= The commit sha latest commit PR which we will pull CI test results e g e f aeeba c c f d b parser add_argument -v -- verbose help= Prints all failing test names action= store_true parser add_argument -- format-issues help= Prints histogram way they can copy-pasted github issues action= store_true args = parser parse_args args format_issues implies verbose=True verbose = args verbose args format_issues verbose = True dynamo eager = download_reports args commit dynamo eager failures_histogram eager dynamo verbose args format_issues