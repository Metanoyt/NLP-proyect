mypy allow-untyped-defs torch fx proxy Proxy _compatibility compatibility compatibility is_backward_compatible=False annotate val type Annotates Proxy object given type This function annotates val given type type val torch fx Proxy object Args val object An object annotated its type torch fx Proxy type object A type assigned given proxy object val Returns The given val Raises RuntimeError If val already has type its node isinstance val Proxy val node type raise RuntimeError f Tried annotate value already had type f Existing type val node type f new type type f This could happen you tried annotate function parameter f value which case you should use type slot f function signature you called f annotate same value twice val node type = type val val