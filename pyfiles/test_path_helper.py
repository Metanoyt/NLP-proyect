test_path_utils py Run pytest -q os unittest pathlib Path tempfile TemporaryDirectory cli lib common path_helper copy ensure_dir_exists force_create_dir get_path is_path_exist remove_dir TestPathHelper unittest TestCase setUp tmpdir = TemporaryDirectory tmp_path = Path tmpdir name tearDown tmpdir cleanup -------- get_path -------- test_get_path_returns_path_for_str Use relative path avoid absolute-ness rel_str = sub f txt os chdir tmp_path p = get_path rel_str resolve=False assertIsInstance p Path assertFalse p is_absolute assertEqual str p rel_str test_get_path_resolves rel_str = sub f txt p = get_path str tmp_path rel_str resolve=True assertTrue p is_absolute assertTrue str p endswith rel_str test_get_path_with_path_input p_in = tmp_path sub f txt p_out = get_path p_in resolve=False assertTrue str p_out == str p_in test_get_path_with_none_raises assertRaises ValueError get_path None type ignore arg-type test_get_path_invalid_type_raises assertRaises TypeError get_path type ignore arg-type -------- ensure_dir_exists force_create_dir remove_dir -------- test_ensure_dir_exists_creates_and_is_idempotent d = tmp_path made ensure_dir_exists d assertTrue d exists d is_dir ensure_dir_exists d test_force_create_dir_clears_existing d = tmp_path fresh d inner mkdir parents=True d inner f txt write_text x force_create_dir d assertTrue d exists assertEqual list d iterdir test_remove_dir_none_is_noop remove_dir None type ignore arg-type test_remove_dir_nonexistent_is_noop ghost = tmp_path ghost remove_dir ghost test_remove_dir_accepts_str d = tmp_path to_rm d mkdir remove_dir str d assertFalse d exists -------- copy -------- test_copy_file_to_file src = tmp_path src txt dst = tmp_path out dst txt src write_text hello copy src dst assertEqual dst read_text hello test_copy_dir_to_new_dir src = tmp_path srcdir src mkdir parents=True src f txt write_text content dst = tmp_path destdir copy src dst assertEqual dst f txt read_text content test_copy_dir_into_existing_dir_overwrite_true_merges src = tmp_path srcdir dst = tmp_path destdir src x mkdir parents=True src x new txt write_text new dst mkdir dst existing txt write_text old copy src dst assertEqual dst existing txt read_text old assertEqual dst x new txt read_text new test_is_str_path_exist p = tmp_path x txt p write_text assertTrue is_path_exist str p assertTrue is_path_exist p assertFalse is_path_exist str tmp_path missing assertFalse is_path_exist tmp_path missing assertFalse is_path_exist __name__ == __main__ unittest main