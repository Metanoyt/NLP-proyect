Owner s module dynamo unittest mock torch torch _dynamo test_case torch _dynamo testing torch _dynamo testing same try diffusers models unet_ d except ImportError unet_ d = None maybe_skip fn unet_ d None unittest skip requires diffusers fn fn TestBaseOutput torch _dynamo test_case TestCase maybe_skip test_create fn tmp = unet_ d UNet DOutput + tmp torch _dynamo testing standard_test fn=fn nargs= expected_ops= maybe_skip test_assign fn tmp = unet_ d UNet DOutput + tmp sample = + tmp args = torch randn obj = fn args cnts = torch _dynamo testing CompileCounter opt_fn = torch _dynamo optimize_assert cnts fn obj = opt_fn args assertTrue same obj sample obj sample assertEqual cnts frame_count assertEqual cnts op_count _common fn op_count args = unet_ d UNet DOutput sample=torch randn obj = fn args cnts = torch _dynamo testing CompileCounter opt_fn = torch _dynamo optimize_assert cnts fn obj = opt_fn args assertTrue same obj obj assertEqual cnts frame_count assertEqual cnts op_count op_count maybe_skip test_getattr fn obj unet_ d UNet DOutput x = obj sample x _common fn maybe_skip test_getitem fn obj unet_ d UNet DOutput x = obj sample x _common fn maybe_skip test_tuple fn obj unet_ d UNet DOutput = obj to_tuple _common fn maybe_skip test_index fn obj unet_ d UNet DOutput obj _common fn __name__ == __main__ torch _dynamo test_case run_tests run_tests