mypy allow-untyped-defs tensorboard compat proto graph_pb GraphDef tensorboard compat proto node_def_pb NodeDef tensorboard compat proto versions_pb VersionDef tensorboard compat proto attr_value_pb AttrValue tensorboard compat proto tensor_shape_pb TensorShapeProto load_onnx_graph fname onnx m = onnx load fname type ignore attr-defined g = m graph parse g parse graph nodes = itertools nodes_proto = list itertools chain graph input graph output node nodes_proto print node name shapeproto = TensorShapeProto dim= TensorShapeProto Dim size=d dim_value d node type tensor_type shape dim nodes append NodeDef name=node name encode encoding= utf_ op= Variable input= attr= dtype AttrValue type=node type tensor_type elem_type shape AttrValue shape=shapeproto node graph node _attr = = join str f f s ListFields s node attribute attr = join _attr encode encoding= utf_ print node output nodes append NodeDef name=node output encode encoding= utf_ op=node op_type input=node input attr= parameters AttrValue s=attr two pass token replacement appends opname object id mapping = node nodes mapping node name = node op + _ + node name GraphDef node=nodes versions=VersionDef producer=