usr bin env python argparse os sys Run only selected group models leave empty run everything TORCHBENCH_ONLY_MODELS = m strip m os getenv TORCHBENCH_ONLY_MODELS split m strip Note - hf timm have their own version torchbench does TODO voz Someday consolidate all files into one runner instead shim like model_names filename str - set str names = set open filename fh lines = fh readlines lines = line rstrip line lines line lines line_parts = line split len line_parts == line_parts = line split model_name = line_parts TORCHBENCH_ONLY_MODELS model_name TORCHBENCH_ONLY_MODELS continue names add model_name names TIMM_MODEL_NAMES = model_names os path join os path dirname __file__ timm_models_list txt HF_MODELS_FILE_NAME = model_names os path join os path dirname __file__ huggingface_models_list txt TORCHBENCH_MODELS_FILE_NAME = model_names os path join os path dirname __file__ all_torchbench_models_list txt timm HF disjoint assert TIMM_MODEL_NAMES isdisjoint HF_MODELS_FILE_NAME timm torch disjoint assert TIMM_MODEL_NAMES isdisjoint TORCHBENCH_MODELS_FILE_NAME torch hf disjoint assert TORCHBENCH_MODELS_FILE_NAME isdisjoint HF_MODELS_FILE_NAME parse_args args=None parser = argparse ArgumentParser parser add_argument -- only help= Run just one model whichever model suite belongs Or specify path name model format like -- only=path MODEL_FILE_PATH CLASS_NAME Due fact dynamo changes current working directory path should absolute path The should have method get_example_inputs inputs model An example looks like ` ` ` LinearModel nn Module __init__ super __init__ linear = nn Linear forward x linear x get_example_inputs torch randn ` ` ` parser parse_known_args args __name__ == __main__ args unknown = parse_args args only name = args only name TIMM_MODEL_NAMES timm_models timm_models timm_main name HF_MODELS_FILE_NAME huggingface huggingface huggingface_main name TORCHBENCH_MODELS_FILE_NAME torchbench torchbench torchbench_main print f Illegal model name name sys exit - torchbench torchbench torchbench_main huggingface huggingface huggingface_main timm_models timm_models timm_main