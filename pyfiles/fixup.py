re sys QUOTE_INCLUDE_RE = re compile r ^#include ANGLE_INCLUDE_RE = re compile r ^#include By default iwyu will pick C include we prefer C++ headers STD_C_HEADER_MAP = assert h cassert complex h ccomplex ctype h cctype errno h cerrno fenv h cfenv float h cfloat inttypes h cinttypes iso h ciso limits h climits locale h clocale math h cmath setjmp h csetjmp signal h csignal stdalign h cstdalign stdarg h cstdarg stdbool h cstdbool stddef h cstddef stdint h cstdint stdio h cstdio stdlib h cstdlib string h cstring tgmath h ctgmath time h ctime uchar h cuchar wchar h cwchar wctype h cwctype main - None line sys stdin Convert all quoted includes angle brackets match = QUOTE_INCLUDE_RE match line match None print f #include match group line match end end= continue match = ANGLE_INCLUDE_RE match line match None path = f match group new_path = STD_C_HEADER_MAP get path path tail = line match end len tail tail = + tail print f #include new_path tail end= continue print line end= __name__ == __main__ main