multiprocessing pool multiprocessing util util queue SimpleQueue clean_worker args kwargs gc multiprocessing pool worker args kwargs Regular multiprocessing workers don t fully clean up after themselves so we have explicitly trigger garbage collection make sure all destructors called gc collect Pool multiprocessing pool Pool Pool implementation which uses our version SimpleQueue This lets us pass tensors shared memory across processes instead serializing underlying data _setup_queues _inqueue = SimpleQueue _outqueue = SimpleQueue _quick_put = _inqueue _writer send _quick_get = _outqueue _reader recv _repopulate_pool Increase number pool processes specified number Bring number pool processes up specified number use after reaping workers which have exited _ range _processes - len _pool changed worker - clean_worker args = _inqueue _outqueue _initializer _initargs _maxtasksperchild hasattr _wrap_exception args += _wrap_exception w = Process target=clean_worker args=args _pool append w w name = w name replace Process PoolWorker w daemon = True w start util debug added worker