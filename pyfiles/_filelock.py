types TracebackType typing Optional typing_extensions Self filelock FileLock base_FileLock torch monitor _WaitCounter FileLock base_FileLock This behaves like normal file lock However adds waitcounters acquiring releasing filelock well critical region within pytorch filelock enter - While we re acquiring filelock pytorch filelock region - While we re holding filelock doing work pytorch filelock exit - While we re releasing filelock __enter__ - Self region_counter = _WaitCounter pytorch filelock region guard _WaitCounter pytorch filelock enter guard result = super __enter__ region_counter __enter__ result __exit__ exc_type Optional type BaseException exc_value Optional BaseException traceback Optional TracebackType - None region_counter __exit__ _WaitCounter pytorch filelock exit guard Returns nothing per https github com tox-dev filelock blob f ff fdc efe fb cfefe e src filelock _api py#L super __exit__ exc_type exc_value traceback Returns nothing per https github com pytorch pytorch blob f bfc cfb c bea ab becaf c torch csrc monitor python_init cpp#L None