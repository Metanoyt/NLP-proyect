mypy allow-untyped-defs torch torch _strobelight compile_time_profiler StrobelightCompileTimeProfiler __name__ == __main__ You can pass TORCH_COMPILE_STROBELIGHT=True instead StrobelightCompileTimeProfiler enable You can use code below filter what frames profiled StrobelightCompileTimeProfiler frame_id_filter = StrobelightCompileTimeProfiler frame_id_filter= StrobelightCompileTimeProfiler frame_id_filter= You can set env variable COMPILE_STROBELIGHT_FRAME_FILTER set filter also fn x y z x y + z torch compile work n _ range _ range fn torch rand n n torch rand n n torch rand n n Strobelight will called only times because dynamo will disabled after rd iteration Frame i range torch _dynamo reset work i torch compile fullgraph=True func x x x Frame func torch rand