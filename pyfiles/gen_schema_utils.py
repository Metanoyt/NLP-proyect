typing Any Optional Union torchgen model Annotation Argument Arguments BaseOperatorName BaseTy BaseType CustomClassType FunctionSchema ListType OperatorName Return Note These aren t actually used torchgen they re some utilities generating schema real arguments For example used generate HigherOrderOperators schema since their schemas can vary different instances same HOP TypeGen convert_to_base_ty = int BaseTy int float BaseTy float str BaseTy str bool BaseTy bool staticmethod from_example obj Any - Union BaseType ListType CustomClassType torch isinstance obj torch fx GraphModule BaseType BaseTy GraphModule isinstance obj torch Tensor BaseType BaseTy Tensor isinstance obj torch SymInt BaseType BaseTy SymInt isinstance obj torch SymBool BaseType BaseTy SymBool isinstance obj torch ScriptObject CustomClassType obj _type name type ignore attr-defined isinstance obj list tuple assert len obj all_base_tys = TypeGen from_example x x obj len set all_base_tys raise RuntimeError f Cannot generate schema sequence args heterogeneous types all_base_tys Consider unpacking argument give proper names them possible instead using args ListType all_base_tys len obj tp = type obj tp TypeGen convert_to_base_ty raise RuntimeError f unsupported type tp BaseType TypeGen convert_to_base_ty tp ReturnGen staticmethod from_example name Optional str obj Any annotation Optional Annotation - Return Return name TypeGen from_example obj annotation ArgumentGen staticmethod from_example name str obj Any default Optional str annotation Optional Annotation - Argument Argument name TypeGen from_example obj default=default annotation=annotation FunctionSchemaGen staticmethod from_example op_name str example_inputs tuple tuple str Any example_outputs tuple Any - FunctionSchema args = name inp example_inputs args append ArgumentGen from_example name inp None None ignore annotations other attributes now we could add more when needed arguments = Arguments tuple None tuple args tuple None tuple tuple returns = tuple ReturnGen from_example None out None out example_outputs op_name = OperatorName BaseOperatorName op_name False False False FunctionSchema op_name arguments returns