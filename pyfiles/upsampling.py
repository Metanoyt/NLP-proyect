mypy allow-untyped-defs typing Optional torch nn functional F torch Tensor torch nn common_types _ratio_ _t _ratio_any_t _size_ _t _size_any_t module Module __all__ = Upsample UpsamplingNearest d UpsamplingBilinear d Upsample Module r Upsamples given multi-channel D temporal D spatial D volumetric data The input data assumed form ` minibatch x channels x optional depth x optional height x width ` Hence spatial inputs we expect D Tensor volumetric inputs we expect D Tensor The algorithms available upsampling nearest neighbor linear bilinear bicubic trilinear D D D input Tensor respectively One can either give attr ` scale_factor ` target output attr ` size ` calculate output size You cannot give both ambiguous Args size int Tuple int Tuple int int Tuple int int int optional output spatial sizes scale_factor float Tuple float Tuple float float Tuple float float float optional multiplier spatial size Has match input size tuple mode str optional upsampling algorithm one ` ` nearest ` ` ` ` linear ` ` ` ` bilinear ` ` ` ` bicubic ` ` ` ` trilinear ` ` Default ` ` nearest ` ` align_corners bool optional ` ` True ` ` corner pixels input output tensors aligned thus preserving values those pixels This only has effect when attr ` mode ` ` ` linear ` ` ` ` bilinear ` ` ` ` bicubic ` ` ` ` trilinear ` ` Default ` ` False ` ` recompute_scale_factor bool optional recompute scale_factor use interpolation calculation If ` recompute_scale_factor ` ` ` True ` ` then ` scale_factor ` must passed ` scale_factor ` used compute output ` size ` The computed output ` size ` will used infer new scales interpolation Note when ` scale_factor ` floating-point may differ recomputed ` scale_factor ` due rounding precision issues If ` recompute_scale_factor ` ` ` False ` ` then ` size ` ` scale_factor ` will used directly interpolation Shape - Input math ` N C W_ ` math ` N C H_ W_ ` math ` N C D_ H_ W_ ` - Output math ` N C W_ out ` math ` N C H_ out W_ out ` math ` N C D_ out H_ out W_ out ` where math D_ out = \left\lfloor D_ \times \text scale\_factor \right\rfloor math H_ out = \left\lfloor H_ \times \text scale\_factor \right\rfloor math W_ out = \left\lfloor W_ \times \text scale\_factor \right\rfloor warning With ` ` align_corners = True ` ` linearly interpolating modes ` linear ` ` bilinear ` ` bicubic ` ` trilinear ` don t proportionally align output input pixels thus output values can depend input size This default behavior these modes up version Since then default behavior ` ` align_corners = False ` ` See below concrete examples how affects outputs note If you want downsampling general resizing you should use func ` ~nn functional interpolate ` Examples input = torch arange dtype=torch float view input tensor m = nn Upsample scale_factor= mode= nearest m input tensor xdoctest +IGNORE_WANT other tests seem modify printing styles m = nn Upsample scale_factor= mode= bilinear align_corners=False m input tensor m = nn Upsample scale_factor= mode= bilinear align_corners=True m input tensor Try scaling same data larger tensor input_ x = torch zeros view input_ x copy_ input tensor input_ x tensor xdoctest +IGNORE_WANT seems fail when other tests run same session m = nn Upsample scale_factor= mode= bilinear align_corners=False Notice values top left corner same small input except boundary m input_ x tensor m = nn Upsample scale_factor= mode= bilinear align_corners=True Notice values top left corner now changed m input_ x tensor __constants__ = size scale_factor mode align_corners name recompute_scale_factor name str size Optional _size_any_t scale_factor Optional _ratio_any_t mode str align_corners Optional bool recompute_scale_factor Optional bool __init__ size Optional _size_any_t = None scale_factor Optional _ratio_any_t = None mode str = nearest align_corners Optional bool = None recompute_scale_factor Optional bool = None - None super __init__ name = type __name__ size = size isinstance scale_factor tuple scale_factor = tuple float factor factor scale_factor scale_factor = float scale_factor scale_factor None mode = mode align_corners = align_corners recompute_scale_factor = recompute_scale_factor forward input Tensor - Tensor Runs forward pass F interpolate input size scale_factor mode align_corners recompute_scale_factor=self recompute_scale_factor __setstate__ state recompute_scale_factor state state recompute_scale_factor = True super __setstate__ state extra_repr - str Return extra representation module scale_factor None info = scale_factor= + repr scale_factor info = size= + repr size info += mode= + repr mode info UpsamplingNearest d Upsample r Applies D nearest neighbor upsampling input signal composed several input channels To specify scale takes either attr ` size ` attr ` scale_factor ` s constructor argument When attr ` size ` given output size image ` h w ` Args size int Tuple int int optional output spatial sizes scale_factor float Tuple float float optional multiplier spatial size warning This deprecated favor func ` ~nn functional interpolate ` Shape - Input math ` N C H_ W_ ` - Output math ` N C H_ out W_ out ` where math H_ out = \left\lfloor H_ \times \text scale\_factor \right\rfloor math W_ out = \left\lfloor W_ \times \text scale\_factor \right\rfloor Examples input = torch arange dtype=torch float view input tensor m = nn UpsamplingNearest d scale_factor= m input tensor __init__ size Optional _size_ _t = None scale_factor Optional _ratio_ _t = None - None super __init__ size scale_factor mode= nearest UpsamplingBilinear d Upsample r Applies D bilinear upsampling input signal composed several input channels To specify scale takes either attr ` size ` attr ` scale_factor ` s constructor argument When attr ` size ` given output size image ` h w ` Args size int Tuple int int optional output spatial sizes scale_factor float Tuple float float optional multiplier spatial size warning This deprecated favor func ` ~nn functional interpolate ` It equivalent ` ` nn functional interpolate mode= bilinear align_corners=True ` ` Shape - Input math ` N C H_ W_ ` - Output math ` N C H_ out W_ out ` where math H_ out = \left\lfloor H_ \times \text scale\_factor \right\rfloor math W_ out = \left\lfloor W_ \times \text scale\_factor \right\rfloor Examples input = torch arange dtype=torch float view input tensor xdoctest +IGNORE_WANT do other tests modify global state m = nn UpsamplingBilinear d scale_factor= m input tensor __init__ size Optional _size_ _t = None scale_factor Optional _ratio_ _t = None - None super __init__ size scale_factor mode= bilinear align_corners=True