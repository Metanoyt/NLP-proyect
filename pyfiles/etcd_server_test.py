Owner s oncall r p Copyright c Facebook Inc its affiliates All rights reserved This source code licensed under BSD-style license found LICENSE file root directory source tree os sys unittest etcd torch distributed elastic rendezvous etcd_rendezvous EtcdRendezvous EtcdRendezvousHandler torch distributed elastic rendezvous etcd_server EtcdServer os getenv CIRCLECI print T temporarily disabling circle ci file=sys stderr sys exit EtcdServerTest unittest TestCase test_etcd_server_start_stop server = EtcdServer server start try port = server get_port host = server get_host assertGreater port assertEqual localhost host assertEqual f host port server get_endpoint assertIsNotNone server get_client version finally server stop test_etcd_server_with_rendezvous server = EtcdServer server start try client = etcd Client server get_host server get_port rdzv = EtcdRendezvous client=client prefix= test run_id= num_min_workers= num_max_workers= timeout= last_call_timeout= rdzv_handler = EtcdRendezvousHandler rdzv rdzv_info = rdzv_handler next_rendezvous assertIsNotNone rdzv_info store assertEqual rdzv_info rank assertEqual rdzv_info world_size finally server stop