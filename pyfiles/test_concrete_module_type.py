Owner s oncall jit unittest torch torch testing _internal common_utils raise_on_run_directly TestConcreteModuleTypeFindSubmodule unittest TestCase test_error_message_includes_submodule_name ChildModule torch nn Module __init__ super __init__ linear = torch nn Linear forward x linear x ParentModule torch nn Module __init__ super __init__ existing_child = ChildModule forward x existing_child x module = ParentModule scripted_module = torch jit script module assertIsNotNone scripted_module existing_child Now try trigger error accessing non-existent submodule through internal ConcreteModuleType mechanism This happens when TorchScript compiler tries resolve submodule references BrokenModule torch nn Module __init__ super __init__ parent = ParentModule forward x parent missing_submodule x broken_module = BrokenModule assertRaises RuntimeError context torch jit script broken_module error_msg = str context exception assertIn missing_submodule error_msg lower __name__ == __main__ raise_on_run_directly test test_jit py