argparse logging cli lib common cli_helper register_targets RichHelp TargetSpec cli lib core vllm vllm_test VllmTestRunner logger = logging getLogger __name__ Maps targets their argparse configuration runner adds new target path python -m cli run build external target buildrunner _TARGETS dict str TargetSpec = vllm runner VllmTestRunner help test vLLM pytorch main add yours common_args parser argparse ArgumentParser - None Add common CLI arguments given parser parser add_argument -- shard-id type=int default= help= shard id run e g parser add_argument -- num-shards type=int default= help= number shards run e g group = parser add_mutually_exclusive_group required=True group add_argument -tp -- test-plan type=str help= pre-defined test plan run e g basic_correctness_test register_test_commands subparsers argparse _SubParsersAction - None build_parser = subparsers add_parser test help= test related commands formatter_class=RichHelp build_subparsers = build_parser add_subparsers dest= test_command required=True overview = \n join f name spec get help name spec _TARGETS items external_parser = build_subparsers add_parser external help= Test external targets description= Test third-party targets \n\nAvailable targets \n + overview formatter_class=RichHelp register_targets external_parser _TARGETS common_args=common_args