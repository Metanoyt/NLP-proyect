usr bin env python __future__ print_function os CPUINFO_SOURCES = None init c api c cache c log c defined __linux__ linux multiline c linux cpulist c linux mockfile c linux smallfile c linux processors c defined __MACH__ defined __APPLE__ mach topology c defined __i __ &#124; &#124; defined __i __ &#124; &#124; defined __x _ __ &#124; &#124; defined _WIN x cache init c x cache deterministic c x cache descriptor c x info c x mockcpuid c x isa c x topology c x name c x init c x uarch c x vendor c defined __i __ &#124; &#124; defined __i __ &#124; &#124; defined __x _ __ defined __linux__ x linux init c x linux cpuinfo c defined __i __ &#124; &#124; defined __i __ &#124; &#124; defined __x _ __ defined __MACH__ defined __APPLE__ x mach init c defined _WIN x windows init c defined __arm__ &#124; &#124; defined __aarch __ defined __linux__ arm linux cpuinfo c arm linux hwcap c arm linux init c arm linux clusters c arm linux midr c arm linux chipset c arm tlb c arm uarch c arm cache c defined __arm__ defined __linux__ arm linux aarch -isa c defined __aarch __ defined __linux__ arm linux aarch -isa c defined __arm__ &#124; &#124; defined __aarch __ defined __ANDROID__ arm android properties c defined __arm__ &#124; &#124; defined __aarch __ defined TARGET_OS_IPHONE TARGET_OS_IPHONE arm mach init c __name__ == __main__ condition filenames CPUINFO_SOURCES items filename filenames filepath = os path join cpuinfo wrappers filename os path exists os path dirname filepath print filepath os makedirs os path dirname filepath open filepath w wrapper print Auto-generated generate-wrappers py script Do modify file=wrapper print file=wrapper print #ifdef __APPLE__ file=wrapper print \t#include TargetConditionals h file=wrapper print #endif __APPLE__ file=wrapper print file=wrapper condition print f #include filename file=wrapper Include source file only condition satisfied print f #if condition file=wrapper print f #include filename file=wrapper print f #endif condition file=wrapper