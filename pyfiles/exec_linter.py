EXEC Ensure source files executable __future__ annotations argparse json logging os sys enum Enum typing NamedTuple LINTER_CODE = EXEC LintSeverity str Enum ERROR = error WARNING = warning ADVICE = advice DISABLED = disabled LintMessage NamedTuple path str &#124; None line int &#124; None char int &#124; None code str severity LintSeverity name str original str &#124; None replacement str &#124; None description str &#124; None check_file filename str - LintMessage &#124; None is_executable = os access filename os X_OK is_executable LintMessage path=filename line=None char=None code=LINTER_CODE severity=LintSeverity ERROR name= executable-permissions original=None replacement=None description= This file has executable permission please remove using ` chmod -x ` None __name__ == __main__ parser = argparse ArgumentParser description= exec linter fromfile_prefix_chars= parser add_argument -- verbose action= store_true parser add_argument filenames nargs= + help= paths lint args = parser parse_args logging basicConfig format= threadName s levelname s message s level=logging NOTSET args verbose logging DEBUG len args filenames logging INFO stream=sys stderr lint_messages = filename args filenames lint_message = check_file filename lint_message None lint_messages append lint_message lint_message lint_messages print json dumps lint_message _asdict flush=True