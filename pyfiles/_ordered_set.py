__future__ annotations collections abc Hashable Iterable Iterator MutableSet Reversible Set AbstractSet typing Any cast Optional TypeVar T = TypeVar T bound=Hashable T_co = TypeVar T_co bound=Hashable covariant=True __all__ = OrderedSet OrderedSet MutableSet T Reversible T Insertion ordered set similar OrderedDict __slots__ = _dict __init__ iterable Optional Iterable T = None _dict = dict fromkeys iterable None iterable None staticmethod _from_dict dict_inp dict T None - OrderedSet T s OrderedSet T = OrderedSet s _dict = dict_inp s Required overridden abstract methods __contains__ elem object - bool elem _dict __iter__ - Iterator T iter _dict __len__ - int len _dict __reversed__ - Iterator T reversed _dict add elem T - None _dict elem = None discard elem T - None _dict pop elem None clear - None overridden because MutableSet impl slow _dict clear Unimplemented set methods _collections_abc MutableSet classmethod _wrap_iter_in_set cls other Any - Any Wrap non-Set Iterables OrderedSets Some magic methods more strict input types than public apis so we need wrap inputs sets isinstance other AbstractSet isinstance other Iterable cls other other pop - T raise KeyError pop empty set pyrefly ignore bad-return _dict popitem copy - OrderedSet T OrderedSet _from_dict _dict copy difference others Iterable T - OrderedSet T res = copy res difference_update others res difference_update others Iterable T - None other others -= other type ignore arg-type update others Iterable T - None other others &#124; = other intersection others Iterable T - OrderedSet T res = copy other others other res = other type ignore arg-type res intersection_update others Iterable T - None other others = other type ignore arg-type issubset other Iterable T - bool = _wrap_iter_in_set other issuperset other Iterable T - bool = _wrap_iter_in_set other symmetric_difference other Iterable T - OrderedSet T ^ other type ignore operator symmetric_difference_update other Iterable T - None ^= other type ignore arg-type union others Iterable T - OrderedSet T res = copy other others other continue res &#124; = other res Specify here correct type inference otherwise would AbstractSet T __sub__ other AbstractSet T_co - OrderedSet T following cpython set impl optimization isinstance other OrderedSet len len other out = copy out -= other out cast OrderedSet T super __sub__ other __ior__ other Iterable T - OrderedSet T type ignore misc override noqa PYI isinstance other OrderedSet _dict update other _dict super __ior__ other type ignore arg-type __eq__ other object - bool isinstance other OrderedSet _dict == other _dict super __eq__ other __ne__ other object - bool isinstance other OrderedSet _dict = other _dict super __ne__ other __or__ other AbstractSet T_co - OrderedSet T cast OrderedSet T super __or__ other __and__ other AbstractSet T_co - OrderedSet T MutableSet impl will iterate over other iter over smaller two sets isinstance other OrderedSet len len other pyrefly ignore unsupported-operation bad-return other cast OrderedSet T super __and__ other __xor__ other AbstractSet T_co - OrderedSet T cast OrderedSet T super __xor__ other __repr__ - str f __class__ __name__ list __getstate__ - list T list _dict keys __setstate__ state list T - None _dict = dict fromkeys state None __reduce__ - tuple type OrderedSet T tuple list T OrderedSet list