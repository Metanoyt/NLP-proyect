operator_benchmark op_bench torch torch ao quantization observer obs qobserver_short_configs_dict = attr_names C M N dtype device attrs torch quint cpu torch quint cuda tags short q_hist_observer_short_configs_dict = attr_names C M N dtype device attrs torch quint cpu tags short qobserver_long_configs_dict = C M N device cpu cuda dtype torch quint dtype doesn t change timing keep same tags long q_hist_observer_long_configs_dict = C M N device cpu dtype torch quint dtype doesn t change timing keep same tags long qobserver_per_tensor_configs_short = op_bench config_list cross_product_configs= qscheme torch per_tensor_affine torch per_tensor_symmetric qobserver_short_configs_dict qobserver_per_tensor_configs_long = op_bench cross_product_configs qscheme= torch per_tensor_affine torch per_tensor_symmetric qobserver_long_configs_dict qobserver_per_channel_configs_short = op_bench config_list cross_product_configs= qscheme torch per_channel_affine torch per_channel_symmetric qobserver_short_configs_dict qobserver_per_channel_configs_long = op_bench cross_product_configs qscheme= torch per_channel_affine torch per_channel_symmetric qobserver_long_configs_dict q_hist_observer_per_tensor_configs_short = op_bench config_list cross_product_configs= qscheme torch per_tensor_affine torch per_tensor_symmetric q_hist_observer_short_configs_dict q_hist_observer_per_tensor_configs_long = op_bench cross_product_configs qscheme= torch per_tensor_affine torch per_tensor_symmetric q_hist_observer_long_configs_dict qobserver_per_tensor_list = op_bench op_list attr_names= op_name op_func attrs= MinMaxObserver obs MinMaxObserver MovingAverageMinMaxObserver obs MovingAverageMinMaxObserver qobserver_per_channel_list = op_bench op_list attr_names= op_name op_func attrs= PerChannelMinMaxObserver obs PerChannelMinMaxObserver MovingAveragePerChannelMinMaxObserver obs MovingAveragePerChannelMinMaxObserver q_hist_observer_list = op_bench op_list attr_names= op_name op_func attrs= HistogramObserver obs HistogramObserver HistogramObserverCalculateQparams obs HistogramObserver QObserverBenchmark op_bench TorchBenchmarkBase init C M N dtype qscheme op_func device inputs = f_input torch rand C M N device=device op_func = op_func dtype=dtype qscheme=qscheme device forward f_input op_func f_input op_func calculate_qparams QObserverBenchmarkCalculateQparams op_bench TorchBenchmarkBase init C M N dtype qscheme op_func device f_input = torch rand C M N device=device q_observer = op_func dtype=dtype qscheme=qscheme device q_observer f_input inputs = forward q_observer calculate_qparams op_bench generate_pt_tests_from_op_list qobserver_per_tensor_list qobserver_per_tensor_configs_short + qobserver_per_tensor_configs_long QObserverBenchmark op_bench generate_pt_tests_from_op_list qobserver_per_channel_list qobserver_per_channel_configs_short + qobserver_per_channel_configs_long QObserverBenchmark op_bench generate_pt_tests_from_op_list q_hist_observer_list q_hist_observer_per_tensor_configs_short + q_hist_observer_per_tensor_configs_long QObserverBenchmarkCalculateQparams __name__ == __main__ op_bench benchmark_runner main