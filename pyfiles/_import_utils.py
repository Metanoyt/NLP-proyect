functools importlib util types ModuleType typing Optional _check_module_exists name str - bool r Returns top-level module attr ` name ` exists without importing This generally safer than try-catch block around ` X ` It avoids third party libraries breaking assumptions some our tests e g setting multiprocessing start method when imported see librosa torchvision try spec = importlib util find_spec name spec None except ImportError False functools lru_cache dill_available - bool _check_module_exists dill functools lru_cache import_dill - Optional ModuleType dill_available None dill XXX By default dill writes Pickler dispatch table inject its own logic there This globally affects behavior standard library pickler any user who transitively depends module Undo extension avoid altering behavior pickler globally dill extend use_dill=False dill