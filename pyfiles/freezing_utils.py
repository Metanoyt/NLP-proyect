contextlib threading collections abc Generator typing Any torch _TLS = threading local _freezing_active - bool getattr _TLS freezing_active False contextlib contextmanager enter_freezing - Generator Any None None Context manager designate when freezing active prev = _freezing_active _TLS freezing_active = True try yield finally _TLS freezing_active = prev record_has_frozen_params gm torch fx GraphModule - None Mark gm having frozen params gm _has_frozen_params = True type ignore assignment has_frozen_params gm torch fx GraphModule - bool Return True gm has frozen parameters getattr gm _has_frozen_params False maybe_set_is_frozen_param t torch Tensor - None Mark provided tensor frozen param freezing active _freezing_active t _is_frozen_param = True type ignore attr-defined is_frozen_param t torch Tensor - bool Return True tensor frozen param getattr t _is_frozen_param False