mypy allow-untyped-defs Import mangling See mangling md details re _mangle_index = PackageMangler Used ensure all modules imported have shared mangle parent __init__ - None global _mangle_index _mangle_index = _mangle_index Increment global index _mangle_index += Angle brackets used so there almost no chance confusing module real module Plus Python s preferred way denoting special modules _mangle_parent = f torch_package_ _mangle_index mangle name - str assert len name = _mangle_parent + + name demangle mangled str - str Note This only demangles names mangled specific PackageMangler It will pass through names created different PackageMangler instance mangled startswith _mangle_parent + mangled partition wasn t mangled name mangled parent_name _mangle_parent is_mangled name str - bool bool re match r torch_package_\d+ name demangle name str - str Note Unlike PackageMangler demangle version works any mangled name irrespective which PackageMangler created is_mangled name _first sep last = name partition If there only base mangle prefix e g torch_package_ then empty string last len sep = name get_mangle_prefix name str - str name partition is_mangled name name