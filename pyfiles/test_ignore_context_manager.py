Owner s oncall jit os sys torch Make helper files test importable pytorch_test_dir = os path dirname os path dirname os path realpath __file__ sys path append pytorch_test_dir torch testing _internal common_utils raise_on_run_directly torch testing _internal jit_utils JitTestCase TestIgnoreContextManager JitTestCase test_with_ignore_context_manager_with_inp_out A torch nn Module forward int = b int = c int = d int = torch jit _IgnoreContextManager a= inp int b= inp int c= out int d= out int l = i range i c = l + + b d = c + d model = A s = torch jit script model assertEqual s model assertEqual s B torch nn Module forward int = b int = c int = torch jit _IgnoreContextManager a= inp int b= inp int c= out int l = i range i c = l + + b c model = B s = torch jit script model assertEqual s assertEqual s model C torch nn Module forward int = b int = torch jit _IgnoreContextManager a= inp int b= out int l = i range i b = l + b model = C s = torch jit script model assertEqual s assertEqual s model test_with_ignore_context_manager_with_just_inp A torch nn Module forward int = b int = torch jit _IgnoreContextManager a= inp int b= inp int l = + b i range i noqa F model = A s = torch jit script model assertEqual s assertEqual s model test_with_ignore_context_manager_with_just_out A torch nn Module forward torch jit _IgnoreContextManager c= out List int c = i range i c = c + c model = A s = torch jit script model assertEqual s assertEqual s model __name__ == __main__ raise_on_run_directly test test_jit py