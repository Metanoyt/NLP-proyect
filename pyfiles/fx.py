collections abc Callable typing Any torch _C _fx_map_aggregate _fx_map_arg torch fx immutable_collections immutable_dict immutable_list torch fx node Node decorators substitute_in_graph substitute_in_graph _fx_map_arg can_constant_fold_through=True map_arg Any fn Callable Node Any - Any map_aggregate lambda x fn x isinstance x Node x substitute_in_graph _fx_map_aggregate can_constant_fold_through=True map_aggregate Any fn Callable Any Any - Any result Any isinstance tuple = map_aggregate elem fn elem Support NamedTuple has ` _fields ` repacking into original type result = type hasattr _fields tuple isinstance list result = immutable_list map_aggregate elem fn elem isinstance dict result = immutable_dict k map_aggregate v fn k v items isinstance slice result = slice map_aggregate start fn map_aggregate stop fn map_aggregate step fn result = fn result __all__ = map_arg map_aggregate