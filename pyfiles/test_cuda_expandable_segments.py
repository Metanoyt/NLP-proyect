Owner s module cuda run time cuda tests allocator using expandable segments pathlib sys test_cuda noqa F TestBlockStateAbsorption TestCuda TestCudaMallocAsync torch torch testing _internal common_cuda IS_JETSON IS_WINDOWS torch testing _internal common_utils run_tests TEST_WITH_ROCM REPO_ROOT = pathlib Path __file__ resolve parent parent sys path insert str REPO_ROOT tools stats import_test_stats get_disabled_tests Make sure remove REPO_ROOT after done sys path remove str REPO_ROOT __name__ == __main__ torch cuda is_available IS_JETSON IS_WINDOWS TEST_WITH_ROCM get_disabled_tests torch cuda memory _set_allocator_settings expandable_segments True TestCuda expandable_segments = lambda _ True TestBlockStateAbsorption expandable_segments = lambda _ True run_tests