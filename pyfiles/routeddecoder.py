collections abc Callable Iterable Iterator Sized io BufferedIOBase typing Any torch utils data datapipes _decorator functional_datapipe torch utils data datapipes datapipe IterDataPipe torch utils data datapipes utils common _deprecation_warning torch utils data datapipes utils decoder basichandlers decoder_basichandlers Decoder extension_extract_fn imagehandler decoder_imagehandler __all__ = RoutedDecoderIterDataPipe functional_datapipe routed_decode RoutedDecoderIterDataPipe IterDataPipe tuple str Any r Decodes binary streams input DataPipe yields pathname decoded data tuple functional name ` ` routed_decode ` ` Args datapipe Iterable datapipe provides pathname binary stream tuples handlers Optional user defined decoder handlers If ` ` None ` ` basic image decoder handlers will set default If multiple handles provided priority order follows order handlers first handler has top priority key_fn Function decoder extract key pathname dispatch handlers Default set extract file extension pathname Note When ` ` key_fn ` ` specified returning anything other than extension default handler will work users need specify custom handler Custom handler could use regex determine eligibility handle data __init__ datapipe Iterable tuple str BufferedIOBase handlers Callable key_fn Callable = extension_extract_fn - None super __init__ datapipe Iterable tuple str BufferedIOBase = datapipe handlers handlers = decoder_basichandlers decoder_imagehandler torch decoder = Decoder handlers key_fn=key_fn _deprecation_warning type __name__ deprecation_version= removal_version= old_functional_name= routed_decode add_handler handler Callable - None decoder add_handler handler __iter__ - Iterator tuple str Any data datapipe pathname = data result = decoder data yield pathname result pathname __len__ - int isinstance datapipe Sized len datapipe raise TypeError f type __name__ instance doesn t have valid length