__future__ annotations typing Any coverage_record CoverageRecord llvm_coverage_segment LlvmCoverageSegment parse_segments LlvmCoverageParser Accepts parsed json produced llvm-cov export -- typically representing single C++ test produces list CoverageRecord s __init__ llvm_coverage dict str Any - None _llvm_coverage = llvm_coverage staticmethod _skip_coverage path str - bool Returns True file path should processed This repo-specific only makes sense current state ovrsource third-party path staticmethod _collect_coverage segments list LlvmCoverageSegment - tuple list int list int Stateful parsing coverage segments covered_lines set int = set uncovered_lines set int = set prev_segment = LlvmCoverageSegment None segment segments covered_range uncovered_range = segment get_coverage prev_segment covered_lines update covered_range uncovered_lines update uncovered_range prev_segment = segment uncovered_lines difference_update covered_lines sorted covered_lines sorted uncovered_lines parse repo_name str - list CoverageRecord The JSON format described LLVM source code https github com llvm-mirror llvm blob master tools llvm-cov CoverageExporterJson cpp records list CoverageRecord = export_unit _llvm_coverage data file_info export_unit files filepath = file_info filename _skip_coverage filepath continue filepath None continue segments = file_info segments covered_lines uncovered_lines = _collect_coverage parse_segments segments records append CoverageRecord filepath covered_lines uncovered_lines records