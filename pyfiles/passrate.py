argparse common get_excluded_testcases get_passed_testcases get_testcases key open_test_results download_reports download_reports Usage passrate py commit_sha Parses test reports measure passrate The passrate defined A Take number tests pass under eager mode excluding CUDA OpInfo ModuleInfo tests B Of those tests count number tests pass under Dynamo C Take B A You ll need provide commit_sha commit main branch which we will pull CI test results This script requires ` gh ` cli You ll need install then authenticate via ` gh auth login ` before using script https docs github com en github-cli github-cli quickstart testcases_by_time xmls testcases = get_testcases xmls testcases sort reverse=True key=lambda x float x attrib time testcases should_exclude key test_file = key split C++ tests test_file == UNKNOWN True Policy pass rate does include inductor export dynamo tests test_file startswith inductor export dynamo compute_pass_rate eager_dir dynamo_dir print parsing xmls eager_xmls = open_test_results eager_dir dynamo_xmls = open_test_results dynamo_dir print computing pass rate eager_passed = get_passed_testcases eager_xmls dynamo_passed = get_passed_testcases dynamo_xmls dynamo_pass_keys = key testcase testcase dynamo_passed dynamo_pass_keys = key_ key_ dynamo_pass_keys should_exclude key_ tmp_eager_pass_keys = key testcase testcase eager_passed tmp_eager_pass_keys = key_ key_ tmp_eager_pass_keys should_exclude key_ excluded = key t t get_excluded_testcases dynamo_xmls eager_pass_keys = tmp_eager_pass_keys - set excluded subset = eager_pass_keys intersection dynamo_pass_keys total_subset = len subset total_tests = len eager_pass_keys print pass rate total_subset total_tests total_subset total_tests dynamo_testcases = get_testcases dynamo_xmls tc = key t t t dynamo_testcases Useful debugging not_there_keys = set key_ eager_pass_keys key_ tc not_there_keys add key_ fail_keys = eager_pass_keys - subset fail_keys __name__ == __main__ parser = argparse ArgumentParser prog= passrate description= Computes Dynamo unittest pass rate parser add_argument commit help= The commit sha latest commit PR which we will pull CI test results e g e f aeeba c c f d b args = parser parse_args dynamo eager = download_reports args commit dynamo eager compute_pass_rate eager dynamo