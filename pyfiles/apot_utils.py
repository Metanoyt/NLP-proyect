mypy allow-untyped-defs r This file contains utility functions convert values using APoT nonuniform quantization methods math r Converts floating point input into APoT number based quantization levels float_to_apot x levels indices alpha clip values based alpha x -alpha -alpha x alpha alpha levels_lst = list levels indices_lst = list indices min_delta = math inf best_idx = level idx zip levels_lst indices_lst cur_delta = abs level - x cur_delta min_delta min_delta = cur_delta best_idx = idx best_idx r Converts floating point input into reduced precision floating point value based quantization levels quant_dequant_util x levels indices min_delta = math inf best_fp = level levels cur_delta = abs level - x cur_delta min_delta min_delta = cur_delta best_fp = level best_fp r Converts APoT input into floating point number based quantization levels apot_to_float x_apot levels indices idx = list indices index x_apot levels idx