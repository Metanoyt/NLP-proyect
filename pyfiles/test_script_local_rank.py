usr bin env python Owner s oncall r p Copyright c Facebook Inc its affiliates All rights reserved This source code licensed under BSD-style license found LICENSE file root directory source tree argparse os parse_args parser = argparse ArgumentParser description= test script parser add_argument -- local-rank -- local_rank type=int required=True help= The rank node multi-node distributed training parser parse_args main print Start execution args = parse_args expected_rank = int os environ LOCAL_RANK actual_rank = args local_rank expected_rank = actual_rank raise RuntimeError Parameters passed -- local-rank has different value f env var expected expected_rank got actual_rank print End execution __name__ == __main__ main