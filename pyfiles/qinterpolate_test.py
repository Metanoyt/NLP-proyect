operator_benchmark op_bench torch Microbenchmarks quantized interpolate op Note We benchmarking ` upsample ` being deprecated calls ` interpolate ` anyway qinterpolate_long_configs = op_bench config_list attr_names= M N K attrs= cross_product_configs= dtype torch quint torch qint torch qint mode nearest bilinear scale contig True TODO Add ` False ` after tags= long qinterpolate_short_configs = op_bench config_list attr_names= M N K dtype mode scale contig attrs= torch quint nearest True Downsample torch quint bilinear True Downsample torch quint nearest True Upsample torch quint bilinear True Upsample torch quint bilinear True Downsample tags= short QInterpolateBenchmark op_bench TorchBenchmarkBase init M N K dtype mode scale contig f_input = torch rand M N K - scale = zero_point = q_input = torch quantize_per_tensor f_input scale=scale zero_point=zero_point dtype=dtype contig permute_dims = list range q_input ndim - q_input = q_input permute permute_dims inputs = q_input q_input scale_factor scale mode mode set_module_name q_interpolate forward q_input scale_factor float mode str torch nn functional interpolate q_input scale_factor=scale_factor mode=mode op_bench generate_pt_test qinterpolate_short_configs + qinterpolate_long_configs QInterpolateBenchmark __name__ == __main__ op_bench benchmark_runner main