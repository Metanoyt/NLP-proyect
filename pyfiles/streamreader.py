collections abc Iterator io IOBase typing Optional torch utils data datapipes _decorator functional_datapipe torch utils data datapipes datapipe IterDataPipe __all__ = StreamReaderIterDataPipe functional_datapipe read_from_stream StreamReaderIterDataPipe IterDataPipe tuple str bytes r Given IO streams their label names yield bytes label name tuple functional name ` ` read_from_stream ` ` Args datapipe Iterable DataPipe provides label URL byte stream chunk Number bytes read stream per iteration If ` ` None ` ` all bytes will read until EOF Example xdoctest +SKIP torchdata datapipes iter IterableWrapper StreamReader io StringIO dp = IterableWrapper alphabet StringIO abcde list StreamReader dp chunk= alphabet alphabet b alphabet c alphabet d alphabet e __init__ datapipe IterDataPipe tuple str IOBase chunk Optional int = None datapipe = datapipe chunk = chunk __iter__ - Iterator tuple str bytes furl stream datapipe while True d = stream read chunk d stream close break yield furl d