os re re Pattern typing Optional BOT_COMMANDS_WIKI = https github com pytorch pytorch wiki Bot-commands CIFLOW_LABEL = re compile r ^ciflow + CIFLOW_TRUNK_LABEL = re compile r ^ciflow trunk OFFICE_HOURS_LINK = https github com pytorch pytorch wiki Dev-Infra-Office-Hours CONTACT_US = f Questions Feedback Please reach out PyTorch DevX Team OFFICE_HOURS_LINK ALTERNATIVES = f Learn more about merging wiki BOT_COMMANDS_WIKI has_label labels list str pattern Pattern str = CIFLOW_LABEL - bool len list filter pattern match labels TryMergeExplainer force bool labels list str pr_num int org str project str ignore_current bool has_trunk_label bool has_ciflow_label bool __init__ force bool labels list str pr_num int org str project str ignore_current bool force = force labels = labels pr_num = pr_num org = org project = project ignore_current = ignore_current _get_flag_msg ignore_current_checks Optional list tuple str Optional str Optional int = None - str force Your change will merged immediately since you used force -f flag + bypassing any CI checks ETA - minutes + Please use ` -f ` last resort instead consider ` -i -- ignore-current ` + continue merge ignoring current failures This will allow + currently pending tests finish report signal before merge ignore_current ignore_current_checks None msg = f Your change will merged while ignoring following len ignore_current_checks checks msg += join f x x x ignore_current_checks msg Your change will merged once all checks pass ETA - Hours get_merge_message ignore_current_checks Optional list tuple str Optional str Optional int = None - str title = ### Merge started main_message = _get_flag_msg ignore_current_checks advanced_debugging = \n join details summary Advanced Debugging summary Check merge workflow status f href= os getenv GH_RUN_URL here details msg = title + \n msg += main_message + \n\n msg += ALTERNATIVES + \n\n msg += CONTACT_US msg += advanced_debugging msg get_revert_message org str project str pr_num int - str msg = pytorchbot successfully started revert job + f Check current status here os getenv GH_RUN_URL \n msg += CONTACT_US msg