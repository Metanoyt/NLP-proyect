sys merge_txt_files file_list list str output_file str - None file_list print No input files provided metadata list str = content list str = Read metadata content all files file_path file_list try open file_path file lines = file readlines len lines print f Error file_path does have enough lines metadata file_metadata = lines file_content = lines metadata metadata = file_metadata metadata = file_metadata print f Error Metadata mismatch file_path print Expected metadata print join metadata print f Metadata file_path print join file_metadata content extend file_content except OSError e print f Error reading file file_path e Write merged content output file try open output_file w outfile outfile writelines metadata outfile writelines content print f Successfully merged files into output_file except OSError e print f Error writing output file output_file e __name__ == __main__ len sys argv print Usage python script py output_file txt input_file txt input_file txt output_file = sys argv input_files = sys argv merge_txt_files input_files output_file