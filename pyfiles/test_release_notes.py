tempfile unittest commitlist CommitList TestCommitList unittest TestCase test_create_new tempfile TemporaryDirectory tempdir commit_list_path = f tempdir commitlist csv commit_list = CommitList create_new commit_list_path v dca df assertEqual len commit_list commits assertEqual commit_list commits commit_hash f abb assertTrue commit_list commits title startswith pt quant qmul qadd assertEqual commit_list commits - commit_hash dca df assertTrue commit_list commits - title startswith nomnigraph Copy device option when customize test_read_write tempfile TemporaryDirectory tempdir commit_list_path = f tempdir commitlist csv initial = CommitList create_new commit_list_path v e e initial write_to_disk expected = CommitList from_existing commit_list_path expected commits - category = foobar expected write_to_disk commit_list = CommitList from_existing commit_list_path commit expected_commit zip commit_list commits expected commits assertEqual commit expected_commit test_update_to tempfile TemporaryDirectory tempdir commit_list_path = f tempdir commitlist csv initial = CommitList create_new commit_list_path v e e initial commits - category = foobar assertEqual len initial commits initial write_to_disk commit_list = CommitList from_existing commit_list_path commit_list update_to b assertEqual len commit_list commits + assertEqual commit_list commits - initial commits - __name__ == __main__ unittest main