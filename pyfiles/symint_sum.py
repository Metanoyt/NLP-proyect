sys benchmark_base BenchmarkBase torch Benchmark BenchmarkBase N = __init__ use_loop=False use_loop = use_loop super __init__ category= symint_sum backend= inductor device= cpu name use_loop f category _loop category description see https docs google com document d xJXl etSmefUxPiVyk e Dl- o QwxYcPiMIo iY edit _prepare_once torch _dynamo config capture_scalar_outputs = True torch manual_seed splits = torch randint N _prepare torch _dynamo reset _work torch compile fullgraph=True f xs = tolist y = use_loop i xs y += i y = sum xs torch tensor y f splits main result_path = sys argv Benchmark use_loop=False enable_compile_time_instruction_count collect_all append_results result_path Benchmark use_loop=True enable_compile_time_instruction_count collect_all append_results result_path __name__ == __main__ main