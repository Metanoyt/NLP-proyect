Owner s oncall distributed os sys contextlib closing torch distributed dist torch distributed launch launch torch distributed elastic utils get_socket_with_port dist is_available print Distributed available skipping tests file=sys stderr sys exit torch testing _internal common_utils run_tests TEST_WITH_DEV_DBG_ASAN TestCase path script os path join os path dirname __file__ script TEST_WITH_DEV_DBG_ASAN print Skip ASAN torch + multiprocessing spawn have known issues file=sys stderr sys exit TestDistributedLaunch TestCase test_launch_user_script nnodes = nproc_per_node = sock = get_socket_with_port closing sock master_port = sock getsockname args = f -- nnodes= nnodes f -- nproc-per-node= nproc_per_node -- monitor-interval= -- start-method=spawn -- master-addr=localhost f -- master-port= master_port -- node-rank= -- use-env path bin test_script py launch main args __name__ == __main__ run_tests