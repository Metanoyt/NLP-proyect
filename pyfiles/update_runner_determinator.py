usr bin env python re Read contents runner_determinator py open github scripts runner_determinator py script_file script_content = script_file read Indent script content spaces match destination indentation indented_script_content = \n join + line line line line script_content splitlines Read contents _runner-determinator yml open github workflows _runner-determinator yml yml_file yml_content = yml_file read Replace content between markers new_yml_content = re sub r cat EOF runner_determinator py\n \n\s+EOF lambda match match group + indented_script_content + match group yml_content flags=re DOTALL Save modified content back _runner-determinator yml open github workflows _runner-determinator yml w yml_file yml_file write new_yml_content print Updated _runner-determinator yml contents runner_determinator py