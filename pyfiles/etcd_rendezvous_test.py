Owner s oncall r p Copyright c Facebook Inc its affiliates All rights reserved This source code licensed under BSD-style license found LICENSE file root directory source tree os sys unittest uuid torch distributed elastic rendezvous RendezvousParameters torch distributed elastic rendezvous etcd_rendezvous create_rdzv_handler torch distributed elastic rendezvous etcd_server EtcdServer os getenv CIRCLECI print T temporarily disabling circle ci file=sys stderr sys exit EtcdRendezvousTest unittest TestCase classmethod setUpClass cls start standalone single process etcd server use all tests cls _etcd_server = EtcdServer cls _etcd_server start classmethod tearDownClass cls stop standalone etcd server cls _etcd_server stop test_etcd_rdzv_basic_params Check we can create handler minimum set params rdzv_params = RendezvousParameters backend= etcd endpoint=f _etcd_server get_endpoint run_id=f uuid uuid min_nodes= max_nodes= etcd_rdzv = create_rdzv_handler rdzv_params assertIsNotNone etcd_rdzv test_etcd_rdzv_additional_params run_id = str uuid uuid rdzv_params = RendezvousParameters backend= etcd endpoint=f _etcd_server get_endpoint run_id=run_id min_nodes= max_nodes= timeout= last_call_timeout= protocol= http etcd_rdzv = create_rdzv_handler rdzv_params assertIsNotNone etcd_rdzv assertEqual run_id etcd_rdzv get_run_id test_get_backend run_id = str uuid uuid rdzv_params = RendezvousParameters backend= etcd endpoint=f _etcd_server get_endpoint run_id=run_id min_nodes= max_nodes= timeout= last_call_timeout= protocol= http etcd_rdzv = create_rdzv_handler rdzv_params assertEqual etcd etcd_rdzv get_backend