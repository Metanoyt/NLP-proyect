mypy allow-untyped-defs io multiprocessing queues pickle multiprocessing reduction ForkingPickler ConnectionWrapper Proxy _multiprocessing Connection which uses ForkingPickler object serialization __init__ conn conn = conn send obj buf = io BytesIO ForkingPickler buf pickle HIGHEST_PROTOCOL dump obj send_bytes buf getvalue recv buf = recv_bytes pickle loads buf __getattr__ name conn __dict__ getattr conn name raise AttributeError f type __name__ object has no attribute conn Queue multiprocessing queues Queue __init__ args kwargs super __init__ args kwargs _reader ConnectionWrapper = ConnectionWrapper _reader _writer ConnectionWrapper = ConnectionWrapper _writer _send = _writer send _recv = _reader recv SimpleQueue multiprocessing queues SimpleQueue _make_methods isinstance _reader ConnectionWrapper _reader ConnectionWrapper = ConnectionWrapper _reader _writer ConnectionWrapper = ConnectionWrapper _writer super _make_methods type ignore misc