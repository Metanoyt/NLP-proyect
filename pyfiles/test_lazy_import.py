Owner s module onnx subprocess sys tempfile pytorch_test_common torch testing _internal common_utils TestLazyONNXPackages pytorch_test_common ExportTestCase _test_package_is_lazily_imported pkg torch_pkg= torch onnx tempfile TemporaryDirectory wd r = subprocess run sys executable -Ximporttime -c torch onnx capture_output=True text=True cwd=wd check=True The extra space makes sure we re checking package any package containing its name assertTrue f pkg r stderr f ` pkg ` should imported full importtime r stderr test_onnxruntime_is_lazily_imported _test_package_is_lazily_imported onnxruntime test_onnxscript_is_lazily_imported _test_package_is_lazily_imported onnxscript __name__ == __main__ common_utils run_tests