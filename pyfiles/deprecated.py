mypy allow-untyped-defs The APIs file exposed ` functorch ` They thin wrappers around torch func APIs have deprecation warnings -- we re trying move people torch func equivalents NB We don t use args kwargs signatures because changes documentation textwrap warnings collections abc Callable typing Any Optional Union torch _functorch apis apis torch _functorch eager_transforms _impl torch _functorch make_functional _nn_impl torch nn nn torch _functorch eager_transforms argnums_t torch _functorch vmap in_dims_t out_dims_t get_warning api new_api=None replace_newlines=False new_api None new_api = f torch func api warning = f We ve integrated functorch into PyTorch As final step \n f integration ` functorch api ` deprecated PyTorch \n f will deleted future version PyTorch = \n f Please use ` new_api ` instead see PyTorch release notes \n f ` torch func ` migration guide more details \n f https pytorch org docs main func migrating html replace_newlines warning = warning replace \n warning warn_deprecated api new_api=None warning = get_warning api new_api replace_newlines=True warnings warn warning FutureWarning stacklevel= setup_docs functorch_api torch_func_api=None new_api_name=None api_name = functorch_api __name__ torch_func_api None torch_func_api = getattr _impl api_name See https docs python org using cmdline html#cmdoption-OO torch_func_api __doc__ None warning = get_warning api_name new_api_name warning_note = \n warning \n\n + textwrap indent warning warning_note = textwrap indent warning_note functorch_api __doc__ = torch_func_api __doc__ + warning_note vmap func Callable in_dims in_dims_t = out_dims out_dims_t = randomness str = error chunk_size=None - Callable warn_deprecated vmap torch vmap apis vmap func in_dims out_dims randomness chunk_size=chunk_size grad func Callable argnums argnums_t = has_aux bool = False - Callable warn_deprecated grad apis grad func argnums has_aux grad_and_value func Callable argnums argnums_t = has_aux bool = False - Callable warn_deprecated grad_and_value apis grad_and_value func argnums has_aux vjp func Callable primals has_aux bool = False warn_deprecated vjp _impl vjp func primals has_aux=has_aux jvp func Callable primals Any tangents Any strict bool = False has_aux bool = False warn_deprecated jvp _impl jvp func primals tangents strict=strict has_aux=has_aux jacrev func Callable argnums Union int tuple int = has_aux=False chunk_size Optional int = None _preallocate_and_copy=False warn_deprecated jacrev _impl jacrev func argnums has_aux=has_aux chunk_size=chunk_size _preallocate_and_copy=_preallocate_and_copy jacfwd func Callable argnums argnums_t = has_aux bool = False randomness str = error warn_deprecated jacfwd _impl jacfwd func argnums has_aux randomness=randomness hessian func argnums= warn_deprecated hessian _impl hessian func argnums=argnums functionalize func Callable remove str = mutations - Callable warn_deprecated functionalize _impl functionalize func remove=remove make_functional model nn Module disable_autograd_tracking bool = False warn_deprecated make_functional torch func functional_call _nn_impl make_functional model disable_autograd_tracking make_functional_with_buffers model nn Module disable_autograd_tracking bool = False warn_deprecated make_functional_with_buffers torch func functional_call _nn_impl make_functional_with_buffers model disable_autograd_tracking combine_state_for_ensemble models warn_deprecated combine_state_for_ensemble torch func stack_module_state _nn_impl combine_state_for_ensemble models setup_docs vmap apis vmap torch vmap setup_docs grad apis grad setup_docs grad_and_value apis grad_and_value setup_docs vjp setup_docs jvp setup_docs jacrev setup_docs jacfwd setup_docs hessian setup_docs functionalize setup_docs make_functional _nn_impl make_functional torch func functional_call setup_docs make_functional_with_buffers _nn_impl make_functional torch func functional_call setup_docs combine_state_for_ensemble _nn_impl combine_state_for_ensemble torch func stack_module_state