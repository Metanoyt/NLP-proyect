tempfile unittest unittest mock NonCallableMock patch tools jit gen_unboxing gen_unboxing patch tools jit gen_unboxing get_custom_build_selector patch tools jit gen_unboxing parse_native_yaml patch tools jit gen_unboxing make_file_manager patch tools jit gen_unboxing gen_unboxing TestGenUnboxing unittest TestCase test_get_custom_build_selector_with_allowlist mock_gen_unboxing NonCallableMock mock_make_file_manager NonCallableMock mock_parse_native_yaml NonCallableMock mock_get_custom_build_selector NonCallableMock - None args = -- op-registration-allowlist=op -- op-selection-yaml-path=path gen_unboxing main args mock_get_custom_build_selector assert_called_once_with op path test_get_custom_build_selector_with_allowlist_yaml mock_gen_unboxing NonCallableMock mock_make_file_manager NonCallableMock mock_parse_native_yaml NonCallableMock mock_get_custom_build_selector NonCallableMock - None temp_file = tempfile NamedTemporaryFile temp_file write b - aten add Tensor temp_file seek args = f -- TEST-ONLY-op-registration-allowlist-yaml-path= temp_file name -- op-selection-yaml-path=path gen_unboxing main args mock_get_custom_build_selector assert_called_once_with aten add Tensor path temp_file close test_get_custom_build_selector_with_both_allowlist_and_yaml mock_gen_unboxing NonCallableMock mock_make_file_manager NonCallableMock mock_parse_native_yaml NonCallableMock mock_get_custom_build_selector NonCallableMock - None temp_file = tempfile NamedTemporaryFile temp_file write b - aten add Tensor temp_file seek args = -- op-registration-allowlist=op f -- TEST-ONLY-op-registration-allowlist-yaml-path= temp_file name -- op-selection-yaml-path=path gen_unboxing main args mock_get_custom_build_selector assert_called_once_with op path temp_file close __name__ == __main__ unittest main