argparse os os path main - None parser = argparse ArgumentParser parser add_argument -- input-file parser add_argument -- output-file parser add_argument -- install-dir -- install_dir parser add_argument -- replace action= append nargs= options = parser parse_args open options input_file f contents = f read output_file = os path join options install_dir options output_file os makedirs os path dirname output_file exist_ok=True old new options replace contents = contents replace old new open output_file w f f write contents __name__ == __main__ main pragma no cover