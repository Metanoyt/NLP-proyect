mypy allow-untyped-defs Utilities converting operating ONNX JIT torch types __future__ annotations collections abc Mapping Sequence typing Any Optional TYPE_CHECKING Union typing_extensions Protocol runtime_checkable onnx torch torch _subclasses fake_tensor TYPE_CHECKING onnx defs noqa TCH Enable both TorchScriptTensor torch Tensor tested dtype OpSchemaWrapper runtime_checkable TensorLike Protocol property dtype - torch dtype &#124; None is_torch_complex_dtype tensor_dtype torch dtype - bool NOTE This needed TorchScriptTensor nor supported torch is_complex tensor_dtype _COMPLEX_TO_FLOAT from_complex_to_float dtype torch dtype - torch dtype _COMPLEX_TO_FLOAT dtype from_sym_value_to_torch_dtype sym_value SYM_VALUE_TYPE - torch dtype _SYM_TYPE_TO_TORCH_DTYPE type sym_value is_optional_onnx_dtype_str onnx_type_str str - bool onnx_type_str _OPTIONAL_ONNX_DTYPE_STR from_torch_dtype_to_onnx_dtype_str dtype torch dtype &#124; type - set str _TORCH_DTYPE_TO_COMPATIBLE_ONNX_TYPE_STRINGS dtype from_python_type_to_onnx_attribute_type dtype type is_sequence bool = False - onnx defs OpSchema AttrType &#124; None onnx defs type ignore _PYTHON_TYPE_TO_ONNX_ATTRIBUTE_TYPE = float onnx defs OpSchema AttrType FLOAT int onnx defs OpSchema AttrType INT str onnx defs OpSchema AttrType STRING bool onnx defs OpSchema AttrType INT _SEQUENCE_TYPE_TO_ONNX_ATTRIBUTE_TYPE = float onnx defs OpSchema AttrType FLOATS int onnx defs OpSchema AttrType INTS str onnx defs OpSchema AttrType STRINGS bool onnx defs OpSchema AttrType INTS is_sequence _SEQUENCE_TYPE_TO_ONNX_ATTRIBUTE_TYPE get dtype _PYTHON_TYPE_TO_ONNX_ATTRIBUTE_TYPE get dtype is_torch_symbolic_type value Any - bool isinstance value torch SymBool torch SymInt torch SymFloat from_torch_dtype_to_abbr dtype torch dtype &#124; None - str dtype None _TORCH_DTYPE_TO_ABBREVIATION get dtype from_scalar_type_to_torch_dtype scalar_type type - torch dtype &#124; None _SCALAR_TYPE_TO_TORCH_DTYPE get scalar_type NOTE mapping torch dtype set compatible onnx types It s used dispatcher find best match overload input dtypes _TORCH_DTYPE_TO_COMPATIBLE_ONNX_TYPE_STRINGS dict torch dtype &#124; type set str = torch bfloat tensor bfloat torch bool tensor bool torch float tensor double torch float tensor float torch float tensor float torch float _e m fn tensor float _e m fn torch float _e m fnuz tensor float _e m fnuz torch float _e m tensor float _e m torch float _e m fnuz tensor float _e m fnuz torch int tensor int torch int tensor int torch int tensor int torch int tensor int torch uint tensor uint str tensor string int tensor int tensor int tensor int float tensor float tensor float tensor double bool tensor int tensor int tensor bool complex tensor float tensor double torch complex tensor float torch complex tensor float torch complex tensor double _OPTIONAL_ONNX_DTYPE_STR set str = f optional value value_set _TORCH_DTYPE_TO_COMPATIBLE_ONNX_TYPE_STRINGS values value value_set _PYTHON_TYPE_TO_TORCH_DTYPE = bool torch bool int torch int float torch float complex torch complex _COMPLEX_TO_FLOAT dict torch dtype torch dtype = torch complex torch float torch complex torch float torch complex torch float NOTE ORT doesn t support torch float _SYM_TYPE_TO_TORCH_DTYPE = torch SymInt torch int torch SymFloat torch float torch SymBool torch bool _SCALAR_TYPE_TO_TORCH_DTYPE dict type torch dtype = _PYTHON_TYPE_TO_TORCH_DTYPE _SYM_TYPE_TO_TORCH_DTYPE type ignore dict-item _TORCH_DTYPE_TO_ABBREVIATION = torch bfloat bf torch float f torch float f torch float f torch float _e m fn e m fn torch float _e m fnuz e m fnuz torch float _e m f e m torch float _e m fnuz e m fnuz torch complex c torch complex c torch complex c torch int i torch int i torch int i torch int i torch bool b torch uint u SYM_VALUE_TYPE = Union torch SymInt torch SymFloat torch SymBool META_VALUE_TYPE = Union fake_tensor FakeTensor SYM_VALUE_TYPE int float bool NOTE Below torch fx node py BaseArgumentTypes = Union str int float bool complex torch dtype torch Tensor torch device torch memory_format torch layout torch _ops OpOverload torch SymInt torch SymFloat torch SymBool Argument = Optional Union tuple Argument Sequence Argument Mapping str Argument slice Slice Argument Argument Argument slice templated type typing range torch fx Node BaseArgumentTypes