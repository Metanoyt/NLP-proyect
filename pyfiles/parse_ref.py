usr bin env python os re set_output name str val str - None print f Setting output name = val os getenv GITHUB_OUTPUT open str os getenv GITHUB_OUTPUT env print f name = val file=env print f set-output name= name val main - None ref = os environ GITHUB_REF m = re match r ^refs \w+ $ ref m category stripped = m groups category == heads set_output branch stripped category == pull set_output branch pull + stripped split category == tags set_output tag stripped __name__ == __main__ main