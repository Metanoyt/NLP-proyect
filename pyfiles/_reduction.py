warnings typing Optional NB Keep file sync enums aten src ATen core Reduction h get_enum reduction str - int reduction == none ret = reduction == mean ret = reduction == elementwise_mean warnings warn reduction= elementwise_mean deprecated Please use reduction= mean instead stacklevel= ret = reduction == sum ret = ret = - TODO remove once JIT exceptions support control flow raise ValueError f reduction valid value reduction ret In order support previous versions accept boolean size_average reduce convert them into new constants now We use these functions torch legacy well which case we ll silence warning legacy_get_string size_average Optional bool reduce Optional bool emit_warning bool = True - str warning = size_average reduce args will deprecated please use reduction= instead size_average None size_average = True reduce None reduce = True size_average reduce ret = mean reduce ret = sum ret = none emit_warning warnings warn warning format ret stacklevel= ret legacy_get_enum size_average Optional bool reduce Optional bool emit_warning bool = True - int get_enum legacy_get_string size_average reduce emit_warning