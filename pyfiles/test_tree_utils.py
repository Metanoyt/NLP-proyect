Owner s oncall export collections OrderedDict torch torch _dynamo test_case TestCase torch export _tree_utils is_equivalent reorder_kwargs torch testing _internal common_utils run_tests torch utils _pytree tree_structure TestTreeUtils TestCase test_reorder_kwargs original_kwargs = torch tensor b torch tensor user_kwargs = b torch tensor torch tensor orig_spec = tree_structure original_kwargs reordered_kwargs = reorder_kwargs user_kwargs orig_spec Key ordering should same assertEqual reordered_kwargs popitem original_kwargs popitem assertEqual reordered_kwargs popitem original_kwargs popitem test_equivalence_check tree = torch tensor b torch tensor c None tree = OrderedDict a=torch tensor b=torch tensor c=None spec = tree_structure tree spec = tree_structure tree dict_ordered_dict_eq type context type context type None type None type type context == context issubclass type dict OrderedDict issubclass type dict OrderedDict context == context type type context == context assertTrue is_equivalent spec spec dict_ordered_dict_eq Wrong ordering should still fail tree = OrderedDict b=torch tensor a=torch tensor spec = tree_structure tree assertFalse is_equivalent spec spec dict_ordered_dict_eq __name__ == __main__ run_tests