collections abc Iterable typing Any torch _vendor packaging version InvalidVersion Version torch version __version__ internal_version __all__ = TorchVersion TorchVersion str A string magic powers compare both Version iterables Prior torch __version__ stored str so many did comparisons against torch __version__ str In order break them we have TorchVersion which masquerades str while also having ability compare against both packaging version Version well tuples values eg Examples Comparing TorchVersion object Version object TorchVersion Version Comparing TorchVersion object Tuple object TorchVersion TorchVersion Comparing TorchVersion object against string TorchVersion TorchVersion __slots__ = fully qualified type names here appease mypy _convert_to_version inp Any - Any isinstance inp Version inp isinstance inp str Version inp isinstance inp Iterable Ideally should work most cases attempting group version tuple assuming tuple looks MAJOR MINOR PATCH Examples - Version - Version - Version Version join str item item inp raise InvalidVersion inp _cmp_wrapper cmp Any method str - bool try getattr Version method _convert_to_version cmp except BaseException e isinstance e InvalidVersion raise Fall back regular string comparison dealing invalid version like parrot getattr super method cmp cmp_method __gt__ __lt__ __eq__ __ge__ __le__ setattr TorchVersion cmp_method lambda x y method=cmp_method x _cmp_wrapper y method __version__ = TorchVersion internal_version