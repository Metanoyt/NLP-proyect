mypy allow-untyped-defs torch distributed rpc rpc torch distributed rpc _testing noqa F torch testing _internal distributed rpc rpc_agent_test_fixture RpcAgentTestFixture The following message types currently retried RREF protocol distributed autograd Thus only these messages should tested Faulty RPC Agent retryable_message_types = RREF_FORK_REQUEST RREF_CHILD_ACCEPT RREF_USER_DELETE CLEANUP_AUTOGRAD_CONTEXT_REQ The following messages incur corresponding delay seconds while being processed FaultyTensorPipeAgent s enqueueSend function default_messages_to_delay = PYTHON_CALL Python UDF SCRIPT_CALL Script Builtin FaultyRpcAgentTestFixture RpcAgentTestFixture __init__ args kwargs super __init__ args kwargs messages_to_fail = retryable_message_types messages_to_delay = default_messages_to_delay property rpc_backend rpc backend_registry BackendType FAULTY_TENSORPIPE property rpc_backend_options rpc backend_registry construct_rpc_backend_options rpc_backend init_method=self init_method num_worker_threads= num_fail_sends= messages_to_fail=self messages_to_fail messages_to_delay=self messages_to_delay setup_fault_injection faulty_messages messages_to_delay faulty_messages None messages_to_fail = faulty_messages messages_to_delay None messages_to_delay = messages_to_delay get_shutdown_error_regex error_regexes = Exception thread pool task Connection reset peer Connection closed peer &#124; join f error_str error_str error_regexes get_timeout_error_regex RPC ran more than