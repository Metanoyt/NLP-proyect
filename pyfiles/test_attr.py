Owner s oncall jit typing NamedTuple Tuple torch torch testing FileCheck torch testing _internal common_utils raise_on_run_directly torch testing _internal jit_utils JitTestCase TestGetDefaultAttr JitTestCase test_getattr_with_default A torch nn Module __init__ - None super __init__ init_attr_val = forward x y = getattr init_attr_val noqa B w list float = z = getattr missing w noqa B z append y z result = A forward assertEqual len result graph = torch jit script A graph The init_attr_val attribute exists FileCheck check prim GetAttr name= init_attr_val run graph The missing attribute does exist so there should no corresponding GetAttr AST FileCheck check_not missing run graph instead getattr call will emit default value which list one float element FileCheck check float = prim ListConstruct run graph test_getattr_named_tuple global MyTuple MyTuple NamedTuple x str y torch Tensor fn x MyTuple - Tuple str torch Tensor int getattr x x fdsa getattr x y torch ones getattr x z inp = MyTuple x= test y=torch ones ref = fn inp fn_s = torch jit script fn res = fn_s inp assertEqual res ref test_getattr_tuple fn x Tuple str int - int getattr x x assertRaisesRegex RuntimeError got normal Tuple torch jit script fn __name__ == __main__ raise_on_run_directly test test_jit py