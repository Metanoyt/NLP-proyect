time timeit numpy np torch torch _dynamo config satisfy linter complaining about undefined variable foo = None args = f x i i range fn_str = f \ foo join args n = + join arg + shape arg args x + n exec fn_str globals torch _dynamo config recompile_limit = bench name fn torch _dynamo reset inps = torch randn i _ range i range run_fn inp inps fn inp start = time perf_counter _ range run_fn end = time perf_counter results = timeit repeat lambda run_fn number= repeat= print f name np median results f us warmup= end - start f s main bench compiled torch compile foo dynamic=False type ignore F __name__ == __main__ main