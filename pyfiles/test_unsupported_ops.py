Owner s oncall jit os sys unittest torch Make helper files test importable pytorch_test_dir = os path dirname os path dirname os path realpath __file__ sys path append pytorch_test_dir torch testing _internal common_utils raise_on_run_directly torch testing _internal jit_utils JitTestCase NOTE FIXING FAILING TESTS If you seeing test failure file congrats you improved parity between JIT Python API Before you fix test you must also update corresponding section documentation states unsupported behavior see ` jit_unsupported rst ` TestUnsupportedOps JitTestCase test_factory_ops_requires_grad_fail Keyword argument name unknown JIT-only error message so these functions succeeding eager failing JIT Complete issue set ops https github com pytorch pytorch issues only testing some because they should fixed all once ones torch ones requires_grad=True assertRaisesRegexWithHighlight Exception Keyword argument requires_grad unknown torch ones torch jit script ones randn torch randn requires_grad=True assertRaisesRegexWithHighlight Exception Keyword argument requires_grad unknown torch randn torch jit script randn zeros torch zeros requires_grad=True assertRaisesRegexWithHighlight Exception Keyword argument requires_grad unknown torch zeros torch jit script zeros unittest skipIf torch _C has_lapack PyTorch compiled without Lapack test_init_ops calculate_gain torch nn init calculate_gain leaky_relu eye_ torch nn init eye_ torch zeros dirac_ torch nn init dirac_ torch empty kaiming_uniform_ torch nn init kaiming_normal_ torch empty orthogonal_ torch nn init orthogonal_ torch empty sparse torch nn init sparse_ torch empty sparsity= func calculate_gain eye_ dirac_ kaiming_uniform_ orthogonal_ sparse doesn t error eager func assertRaisesRegex Exception torch jit script func __name__ == __main__ raise_on_run_directly test test_jit py