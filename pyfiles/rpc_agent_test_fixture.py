mypy allow-untyped-defs os abc ABC abstractmethod torch testing _internal dist_utils RpcAgentTestFixture ABC property world_size - int property init_method use_tcp_init = os environ get RPC_INIT_WITH_TCP None use_tcp_init == master_addr = os environ MASTER_ADDR master_port = os environ MASTER_PORT f tcp master_addr master_port file_init_method property file_init_method torch testing _internal dist_utils INIT_METHOD_TEMPLATE format file_name=self file_name property abstractmethod rpc_backend pass property abstractmethod rpc_backend_options pass setup_fault_injection faulty_messages messages_to_delay noqa B Method used dist_init prepare faulty agent Does nothing other agents Shutdown sequence well defined so we may see any following errors when running tests simulate errors via shutdown remote end abstractmethod get_shutdown_error_regex Return various error message we may see RPC agents while running tests check failures This function used match against possible errors ensure failures raised properly abstractmethod get_timeout_error_regex Returns partial string indicating error we should receive when RPC has timed out Useful use assertRaisesRegex ensure we have right errors during timeout